<!doctype html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta charset="utf-8"><meta name="generator" content="quarto-1.7.33"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes"><title>3&nbsp; Cloud Native data &amp; Atlas data structure – Atlas Data &amp; Methods</title><style>code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}div.columns{display:flex;gap:min(4vw,1.5em)}div.column{flex:auto;overflow-x:auto}div.hanging-indent{margin-left:1.5em;text-indent:-1.5em}ul.task-list{list-style:none}ul.task-list li input[type=checkbox]{width:.8em;margin:0 .8em .2em -1em;vertical-align:middle}</style><script src="site_libs/quarto-nav/quarto-nav.js"></script><script src="site_libs/quarto-nav/headroom.min.js"></script><script src="site_libs/clipboard/clipboard.min.js"></script><script src="site_libs/quarto-search/autocomplete.umd.js"></script><script src="site_libs/quarto-search/fuse.min.js"></script><script src="site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="./"><link href="./boundaries.html" rel="next"><link href="./structure.html" rel="prev"><script src="site_libs/quarto-html/quarto.js" type="module"></script><script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script><script src="site_libs/quarto-html/popper.min.js"></script><script src="site_libs/quarto-html/tippy.umd.min.js"></script><script src="site_libs/quarto-html/anchor.min.js"></script><link href="site_libs/quarto-html/tippy.css" rel="stylesheet"><link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles"><link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-bc185b5c5bdbcb35c2eb49d8a876ef70.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles"><link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles"><script src="site_libs/bootstrap/bootstrap.min.js"></script><link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet"><link href="site_libs/bootstrap/bootstrap-7172840c6a218054d904aa5c9d21f65a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light"><link href="site_libs/bootstrap/bootstrap-dark-8b4bece23370758619eeb05a415e1062.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><link href="site_libs/bootstrap/bootstrap-7172840c6a218054d904aa5c9d21f65a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script></head><body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">const toggleBodyColorMode=e=>{const t=e.getAttribute("data-mode"),o=window.document.querySelector("body");"dark"===t?(o.classList.add("quarto-dark"),o.classList.remove("quarto-light")):(o.classList.add("quarto-light"),o.classList.remove("quarto-dark"))},toggleBodyColorPrimary=()=>{const e=window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");e&&toggleBodyColorMode(e)},setColorSchemeToggle=e=>{const t=window.document.querySelectorAll(".quarto-color-scheme-toggle");for(let o=0;o<t.length;o++){const l=t[o];l&&(e?l.classList.add("alternate"):l.classList.remove("alternate"))}},toggleColorMode=e=>{const t=window.document.querySelectorAll("link.quarto-color-scheme:not(.quarto-color-alternate)"),o=window.document.querySelectorAll("link.quarto-color-scheme.quarto-color-alternate");if(manageTransitions("#quarto-margin-sidebar .nav-link",!1),e){enableStylesheet(o);for(const e of o)"quarto-bootstrap"===e.id&&toggleBodyColorMode(e)}else disableStylesheet(o),enableStylesheet(t),toggleBodyColorPrimary();manageTransitions("#quarto-margin-sidebar .nav-link",!0),setColorSchemeToggle(e),navigator.userAgent.indexOf("Safari")>0&&-1==navigator.userAgent.indexOf("Chrome")&&(manageTransitions("body",!1),window.scrollTo(0,1),setTimeout((()=>{window.scrollTo(0,0),manageTransitions("body",!0)}),40))},disableStylesheet=e=>{for(let t=0;t<e.length;t++){e[t].rel="disabled-stylesheet"}},enableStylesheet=e=>{for(let t=0;t<e.length;t++){const o=e[t];"stylesheet"!==o.rel&&(o.rel="stylesheet")}},manageTransitions=(e,t)=>{const o=window.document.querySelectorAll(e);for(let e=0;e<o.length;e++){const l=o[e];t?l.classList.remove("notransition"):l.classList.add("notransition")}},isFileUrl=()=>"file:"===window.location.protocol,hasAlternateSentinel=()=>{let e=getColorSchemeSentinel();return null!==e&&"alternate"===e},setStyleSentinel=e=>{const t=e?"alternate":"default";isFileUrl()?localAlternateSentinel=t:window.localStorage.setItem("quarto-color-scheme",t)},getColorSchemeSentinel=()=>{if(isFileUrl())return localAlternateSentinel;{const e=window.localStorage.getItem("quarto-color-scheme");return null!=e?e:localAlternateSentinel}},toggleGiscusIfUsed=(e,t)=>{const o=document.querySelector("#giscus-base-theme")?.value??"light",l=document.querySelector("#giscus-alt-theme")?.value??"dark";let r="";r=authorPrefersDark?e?o:l:e?l:o;null!==window.document.querySelector("iframe.giscus-frame")&&(e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")})({setConfig:{theme:r}})},authorPrefersDark=!1,darkModeDefault=authorPrefersDark;document.querySelector("link#quarto-text-highlighting-styles.quarto-color-scheme-extra").rel="disabled-stylesheet",document.querySelector("link#quarto-bootstrap.quarto-color-scheme-extra").rel="disabled-stylesheet";let localAlternateSentinel=darkModeDefault?"alternate":"default";window.quartoToggleColorScheme=()=>{let e=!hasAlternateSentinel();toggleColorMode(e),setStyleSentinel(e),toggleGiscusIfUsed(e),window.dispatchEvent(new Event("resize"))},hasAlternateSentinel()?toggleColorMode(!0):toggleColorMode(!1)</script><div id="quarto-search-results"></div><header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex"><button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="window.quartoToggleHeadroom&&window.quartoToggleHeadroom()"><i class="bi bi-layout-text-sidebar-reverse"></i></button><nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./cloud-native.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Cloud Native data &amp; Atlas data structure</span></a></li></ol></nav><a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="window.quartoToggleHeadroom&&window.quartoToggleHeadroom()"></a> <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch()"><i class="bi bi-search"></i></button></div></nav></header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article"><nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header"><div class="sidebar-title mb-0 py-0"><a href="./">Atlas Data &amp; Methods</a><div class="sidebar-tools-main"><a href="" class="quarto-color-scheme-toggle quarto-navigation-tool px-1" onclick="return window.quartoToggleColorScheme(),!1" title="Toggle dark mode"><i class="bi"></i></a></div></div></div><div class="mt-2 flex-shrink-0 align-items-center"><div class="sidebar-search"><div id="quarto-search" title="Search"></div></div></div><div class="sidebar-menu-container"><ul class="list-unstyled mt-1"><li class="sidebar-item"><div class="sidebar-item-container"><a href="./index.html" class="sidebar-item-text sidebar-link"><span class="menu-text">Preface</span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./structure.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Atlas Structure &amp; Philosophy</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./cloud-native.html" class="sidebar-item-text sidebar-link active"><span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Cloud Native data &amp; Atlas data structure</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./boundaries.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Boundary Datasets</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./hazards.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">hazards.html</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./exposure.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Exposure Datasets</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./glossary.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">glossary.html</span></span></a></div></li><li class="sidebar-item"><div class="sidebar-item-container"><a href="./faq.html" class="sidebar-item-text sidebar-link"><span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">faq.html</span></span></a></div></li></ul></div></nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div><div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2><ul><li><a href="#parquet-geoparquet" id="toc-parquet-geoparquet" class="nav-link active" data-scroll-target="#parquet-geoparquet"><span class="header-section-number">3.1</span> Parquet &amp; GeoParquet</a><ul class="collapse"><li><a href="#merging-our-tabular-data-with-our-geospatial-boundaries" id="toc-merging-our-tabular-data-with-our-geospatial-boundaries" class="nav-link" data-scroll-target="#merging-our-tabular-data-with-our-geospatial-boundaries"><span class="header-section-number">3.1.1</span> Merging our Tabular Data with our Geospatial Boundaries</a></li></ul></li><li><a href="#cloud-optimized-geotiff-cog" id="toc-cloud-optimized-geotiff-cog" class="nav-link" data-scroll-target="#cloud-optimized-geotiff-cog"><span class="header-section-number">3.2</span> Cloud Optimized GeoTiff (COG)</a></li><li><a href="#other-formats" id="toc-other-formats" class="nav-link" data-scroll-target="#other-formats"><span class="header-section-number">3.3</span> Other Formats</a></li><li><a href="#stac" id="toc-stac" class="nav-link" data-scroll-target="#stac"><span class="header-section-number">3.4</span> STAC</a></li></ul></nav></div><main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title"><h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Cloud Native data &amp; Atlas data structure</span></h1></div><div class="quarto-title-meta"></div></header><p>The Adaptation Atlas leverages modern cloud-native data formats such as Cloud Optimized GeoTIFF (COGs), Parquet, and GeoParquet. These open, community-driven standards require no proprietary software or drivers, ensuring data is fully reproducible, easy to share, and accessible for years to come. These formats are designed to be incredibly efficient and scalable, making use of modern technologies such as cloud storage, distributed and parallel processing, partial reads, and modern compression algorithms. This means the atlas can handle and surface terabytes of geospatial data while providing users with the ability to access the specific rows, columns, or geographic regions needed for a task. The result is <strong>faster analysis, lower data transfer costs, and integration into client-side visualizations and large-scale analytical pipelines.</strong> By adopting these formats, the Atlas remains interoperable with a broad ecosystem of tools, supporting both immediate decision-making and long-term open science.</p><p>Although cloud-native is in the name, these formats do not require hosting on cloud storage or working with massive datasets to deliver benefits. Their efficiency applies equally to data stored locally, on internal servers, or at any scale. Even small and local datasets gain from faster reads, lower storage needs, and easier interoperability. An excellent introduction to cloud-native geospatial formats can be found <a href="https://guide.cloudnativegeo.org/">here</a>.</p><section id="parquet-geoparquet" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="parquet-geoparquet"><span class="header-section-number">3.1</span> Parquet &amp; GeoParquet</h2><p>The Adaptation Atlas uses <a href="https://github.com/apache/parquet-format">Parquet</a> as the final data storage step between our raster analysis pipelines and the datasets we surface to users through the adaptation Atlas Interface. These datasets are often our raster data that has been aggregated to boundaries (watersheds or administrative) and formatted as tabular data.</p><p><a href="https://geoparquet.org/">GeoParquet</a>, which is based on Parquet, is used for all of the geospatial vector data used in the Adaptation Atlas, such as administrative boundaries, watersheds, etc. We aim to follow the <a href="https://github.com/opengeospatial/geoparquet/blob/main/format-specs/distributing-geoparquet.md">GeoParquet</a> best practices as closely as possible. This ensures maximum interoperability between datasets and tools.</p><p>These Parquet and GeoParquet datasets enable efficient filtering by geometry, columns, and row attributes, for use in both in analytical workflows and directly within Atlas notebooks in the browser using tools like DuckDB-WASM and other client-side, browser-based processing tools. This allows increased performance and allows the Atlas to surface much larger datasets to users than would otherwise be possible using older formats such as CSV or GeoJSON while maintaining smaller file sizes and faster transfer times.</p><section id="merging-our-tabular-data-with-our-geospatial-boundaries" class="level3" data-number="3.1.1"><h3 data-number="3.1.1" class="anchored" data-anchor-id="merging-our-tabular-data-with-our-geospatial-boundaries"><span class="header-section-number">3.1.1</span> Merging our Tabular Data with our Geospatial Boundaries</h3><p>To avoid duplicating large boundary datasets, most of our tabular data is stored without geometry columns. For visualization and spatial analysis, these tables should be joined to the corresponding boundary datasets. All tabular data aggregated to our GAUL administrative boundaries includes the fields admin0_name, admin1_name, admin2_name, ISO3c, and GAUL0_code, which align with the same columns in our boundary datasets and should be used for merging.</p><p>Where admin1_name and admin2_name are NULL, the record represents country-level data. Where admin0_name and admin1_name are not NULL but admin2_name is NULL, the record represents administrative level 1. Where none of the admin name columns are NULL, the record represents administrative level 2.</p></section></section><section id="cloud-optimized-geotiff-cog" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="cloud-optimized-geotiff-cog"><span class="header-section-number">3.2</span> Cloud Optimized GeoTiff (COG)</h2><p>The Adaptation Atlas uses <a href="https://cogeo.org/">Cloud-Optimized GeoTIFFs (COGs)</a> to store raster data, allowing fast spatial queries and selective reading of only the tiles needed for analysis. Overviews in COGs also support efficient browsing and visualization when needed. Users of the Atlas may want to access and re-run analysis using our raw and processed raster data instead of the aggregated tabular data we provide through the Notebooks. By using COGs, users can access only the portions of raster data required for their analysis, such as specific layers or geographic regions, without downloading the full dataset. This reduces data transfer time and costs, while enabling analyses that would otherwise be impractical to individual users due to dataset size or memory and processing limitations.</p></section><section id="other-formats" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="other-formats"><span class="header-section-number">3.3</span> Other Formats</h2><p>While the Atlas primarily uses COG, Parquet, and GeoParquet, we are following the development and use of other cloud-native formats such as Zarr and FlatGeobuf. As our data ecosystem continues to grow and our needs evolve, we plan to adopt these and other technologies where they can further enhance the Atlas’ data capabilities.</p></section><section id="stac" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="stac"><span class="header-section-number">3.4</span> STAC</h2><p>The Adaptation Atlas uses STAC (SpatioTemporal Asset Catalog), a widely adopted community standard for data and metadata management, to index and describe our datasets. STAC makes our cloud-optimized data easily discoverable and accessible, enabling efficient searching, filtering, and integration of raster and vector datasets across the Atlas for analysis workflows and browser-based data exploration.</p></section></main><script id="quarto-html-after-body" type="application/javascript">window.document.addEventListener("DOMContentLoaded",(function(t){if(null===window.document.querySelector(".quarto-color-scheme-toggle")){const t=window.document.createElement("a");t.classList.add("top-right"),t.classList.add("quarto-color-scheme-toggle"),t.href="",t.onclick=function(){try{window.quartoToggleColorScheme()}catch{}return!1};const e=window.document.createElement("i");e.classList.add("bi"),t.appendChild(e),window.document.body.appendChild(t)}setColorSchemeToggle(hasAlternateSentinel());const e=new window.AnchorJS;e.options={placement:"right",icon:""},e.add(".anchored");const n=t=>{for(const e of t.classList)if(e.startsWith("code-annotation-"))return!0;return!1},o=function(t){const e=t.trigger;e.blur(),e.classList.add("code-copy-button-checked");var n=e.getAttribute("title");let o;e.setAttribute("title","Copied!"),window.bootstrap&&(e.setAttribute("data-bs-toggle","tooltip"),e.setAttribute("data-bs-placement","left"),e.setAttribute("data-bs-title","Copied!"),o=new bootstrap.Tooltip(e,{trigger:"manual",customClass:"code-copy-button-tooltip",offset:[0,-8]}),o.show()),setTimeout((function(){o&&(o.hide(),e.removeAttribute("data-bs-title"),e.removeAttribute("data-bs-toggle"),e.removeAttribute("data-bs-placement")),e.setAttribute("title",n),e.classList.remove("code-copy-button-checked")}),1e3),t.clearSelection()},i=function(t){const e=t.previousElementSibling.cloneNode(!0);for(const t of e.children)n(t)&&t.remove();return e.innerText};if(new window.ClipboardJS(".code-copy-button:not([data-in-quarto-modal])",{text:i}).on("success",o),window.document.getElementById("quarto-embedded-source-code-modal")){new window.ClipboardJS(".code-copy-button[data-in-quarto-modal]",{text:i,container:window.document.getElementById("quarto-embedded-source-code-modal")}).on("success",o)}for(var l,a=new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//),r=new RegExp(/^mailto:/),c=new RegExp("/"+window.location.host+"/"),d=window.document.querySelectorAll("a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)"),s=0;s<d.length;s++){const t=d[s];l=t.href,c.test(l)||a.test(l)||r.test(l)||void 0!==t.dataset.originalHref&&(t.href=t.dataset.originalHref)}function u(t,e,n,o){const i={allowHTML:!0,maxWidth:500,delay:100,arrow:!1,appendTo:function(t){return t.parentElement},interactive:!0,interactiveBorder:10,theme:"quarto",placement:"bottom-start"};e&&(i.content=e),n&&(i.onTrigger=n),o&&(i.onUntrigger=o),window.tippy(t,i)}const h=window.document.querySelectorAll('a[role="doc-noteref"]');for(s=0;s<h.length;s++){const t=h[s];u(t,(function(){let e=t.getAttribute("data-footnote-href")||t.getAttribute("href");try{e=new URL(e).hash}catch{}const n=e.replace(/^#\/?/,""),o=window.document.getElementById(n);return o?o.innerHTML:""}))}const w=window.document.querySelectorAll("a.quarto-xref"),m=(t,e)=>{const n=t=>{if(t.classList.remove("page-full","page-columns"),t.children)for(const e of t.children)n(e)};if(n(e),null===t||t.startsWith("sec-")){const t=document.createElement("div");if(e.children&&e.children.length>2){t.appendChild(e.children[0].cloneNode(!0));for(let n=1;n<e.children.length;n++){const o=e.children[n];if("P"!==o.tagName||""!==o.innerText){t.appendChild(o.cloneNode(!0));break}}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(t),t.innerHTML}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(e),e.innerHTML}{const t=e.querySelector("a.anchorjs-link");return t&&t.remove(),window.Quarto?.typesetMath&&window.Quarto.typesetMath(e),e.classList.contains("callout")?e.outerHTML:e.innerHTML}};for(s=0;s<w.length;s++){const t=w[s];u(t,void 0,(function(e){e.disable();let n,o=t.getAttribute("href");if(o.startsWith("#"))n=o;else try{n=new URL(o).hash}catch{}if(n){const t=n.replace(/^#\/?/,""),i=window.document.getElementById(t);if(null!==i)try{const n=m(t,i.cloneNode(!0));e.setContent(n)}finally{e.enable(),e.show()}else fetch(o.split("#")[0]).then((t=>t.text())).then((n=>{const o=(new DOMParser).parseFromString(n,"text/html").getElementById(t);if(null!==o){const n=m(t,o);e.setContent(n)}})).finally((()=>{e.enable(),e.show()}))}else fetch(o).then((t=>t.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"text/html").querySelector("main.content");if(null!==n){n.children.length>0&&"HEADER"===n.children[0].tagName&&n.children[0].remove();const t=m(null,n);e.setContent(t)}})).finally((()=>{e.enable(),e.show()}))}),(function(t){}))}let g;const p=t=>{window.document;const e=t.getAttribute("data-target-cell"),n=t.getAttribute("data-target-annotation");const o=window.document.querySelector('span[data-code-cell="'+e+'"][data-code-annotation="'+n+'"]').getAttribute("data-code-lines").split(",").map((t=>e+"-"+t));let i=null,l=null,a=null;if(o.length>0){const n=window.document.getElementById(o[0]);if(i=n.offsetTop,l=n.offsetHeight,a=n.parentElement.parentElement,o.length>1){const t=window.document.getElementById(o[o.length-1]);l=t.offsetTop+t.offsetHeight-i}if(null!==i&&null!==l&&null!==a){let t=window.document.getElementById("code-annotation-line-highlight");null===t&&(t=window.document.createElement("div"),t.setAttribute("id","code-annotation-line-highlight"),t.style.position="absolute",a.appendChild(t)),t.style.top=i-2+"px",t.style.height=l+4+"px",t.style.left=0;let n=window.document.getElementById("code-annotation-line-highlight-gutter");if(null===n){n=window.document.createElement("div"),n.setAttribute("id","code-annotation-line-highlight-gutter"),n.style.position="absolute";window.document.getElementById(e).querySelector(".code-annotation-gutter").appendChild(n)}n.style.top=i-2+"px",n.style.height=l+4+"px"}g=t}},f=()=>{["code-annotation-line-highlight","code-annotation-line-highlight-gutter"].forEach((t=>{const e=window.document.getElementById(t);e&&e.remove()})),g=void 0};window.addEventListener("resize",function(t,e){let n,o=!1;return(...i)=>{o?(n&&clearTimeout(n),n=setTimeout((()=>{t.apply(this,i),n=o=!1}),e)):(t.apply(this,i),o=!0)}}((()=>{elRect=void 0,g&&p(g)}),10));const y=window.document.querySelectorAll("dt[data-target-cell]");for(const t of y)t.addEventListener("click",(t=>{const e=t.target;if(e!==g){f();const t=window.document.querySelector("dt[data-target-cell].code-annotation-active");t&&t.classList.remove("code-annotation-active"),p(e),e.classList.add("code-annotation-active")}else f(),e.classList.remove("code-annotation-active")}));const b=t=>{const e=t.parentElement;if(e){const n=e.dataset.cites;return n?{el:t,cites:n.split(" ")}:b(t.parentElement)}};var v=window.document.querySelectorAll('a[role="doc-biblioref"]');for(s=0;s<v.length;s++){const t=v[s],e=b(t);e&&u(e.el,(function(){var t=window.document.createElement("div");return e.cites.forEach((function(e){var n=window.document.createElement("div");n.classList.add("hanging-indent"),n.classList.add("csl-entry");var o=window.document.getElementById("ref-"+e);o&&(n.innerHTML=o.innerHTML),t.appendChild(n)})),t.innerHTML}))}}))</script><nav class="page-navigation"><div class="nav-page nav-page-previous"><a href="./structure.html" class="pagination-link" aria-label="The Atlas Structure &amp; Philosophy"><i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Atlas Structure &amp; Philosophy</span></span></a></div><div class="nav-page nav-page-next"><a href="./boundaries.html" class="pagination-link" aria-label="Boundary Datasets"><span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Boundary Datasets</span></span> <i class="bi bi-arrow-right-short"></i></a></div></nav></div></body></html>